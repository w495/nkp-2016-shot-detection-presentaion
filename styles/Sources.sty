%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%
%%% подключение и настройка пакета листингов (verbatim)
%%%

    \usepackage{verbatim}               % Подключаем пакет с расширением окружения verbatim.
    \usepackage{shortvrb}               % Подключаем пакет для короткой вставки выражений типа verbatim.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%
%%% подключение и настройка пакета listings
%%%
    \usepackage{listings}

%%%
%%% определение собственных языков
%%%

    \localSources{ConfigNet}
    \localSources{CSharp}
    
    %\newcommand{\globalEncoding}{utf8}


%%%
%%% настройка
%%%

    \lstset{
        language=Tex,
        tabsize=2,
        breaklines,
        columns=fullflexible,
        flexiblecolumns,
        frame=tb ,
        numbers=left,
        numberstyle=\footnotesize\color{gray},
            %numberstyle=\scriptsize\color{gray},
            %numberstyle=\tiny\color{gray},
        extendedchars = false,
            %extendedchars = false,
            % extendedchars = true,
                %% да именно так но не  \true
                %% \true == false
        %inputencoding = \globalEncoding, % кодировка, очень аккуратно ту
        keepspaces = true,
        belowcaptionskip=0pt
    }

    %% Основной стиль
    \lstset{
        basicstyle=\ttfamily\footnotesize\color{zdarkblue},
            %basicstyle=\footnotesize\color[rgb]{0.0,0.0,0},
            %basicstyle=\scriptsize\color[rgb]{0.0,0.0,0},
    }

    %% Комментарии

    \newcommand\cmnt{\sffamily\itshape\color{teal!50!black}}

    \lstset{
        commentstyle=\cmnt,
    }

    %% Ключевые слова
    \lstset{
      keywordstyle=\color{zblue},
      morekeywords={true, false, begin, is, as}
    }

    %% Строки
    \lstset{
            stringstyle=\ttfamily\color{gray},
            morestring=[b]",
            morestring=[d]
    }


    \sffamily

\newcommand\digitstyle{\color{deeporange}}

\makeatletter
\newcommand{\ProcessDigit}[1]
{%
  \ifnum\lst@mode=\lst@Pmode\relax%
   {\digitstyle #1}%
  \else
    #1%
  \fi
}
\makeatother

\newcommand\sgnstyle{\color{pacificgray}}

\makeatletter
\newcommand{\ProcessSgn}[1]
{%
  \ifnum\lst@mode=\lst@Pmode\relax%
   {\sgnstyle #1}%
  \else
    #1%
  \fi
}
\makeatother

\newcommand\filterstyle{\color{zdarkgreen}}
\makeatletter
\newcommand{\ProcessFilter}[1]
{%
  \ifnum\lst@mode=\lst@Pmode\relax%
   {\filterstyle #1}%
  \else
    #1%
  \fi
}
\makeatother


\newcommand\operatorstyle{\color{orange}}
\makeatletter
\newcommand{\ProcessOperator}[1]
{%
  \ifnum\lst@mode=\lst@Pmode\relax%
   {\operatorstyle #1}%
  \else
    #1%
  \fi
}
\makeatother


\lstset{literate=
    {0}{{{\ProcessDigit{0}}}}1
    {1}{{{\ProcessDigit{1}}}}1
    {2}{{{\ProcessDigit{2}}}}1
    {3}{{{\ProcessDigit{3}}}}1
    {4}{{{\ProcessDigit{4}}}}1
    {5}{{{\ProcessDigit{5}}}}1
    {6}{{{\ProcessDigit{6}}}}1
    {7}{{{\ProcessDigit{7}}}}1
    {8}{{{\ProcessDigit{8}}}}1
    {9}{{{\ProcessDigit{9}}}}1
    {+}{{{\ProcessSgn{+}}}}1
    {-}{{{\ProcessSgn{-}}}}1
    {*}{{{\ProcessSgn{*}}}}1
    {.}{{{\ProcessDigit{.}}}}1
    {/}{{{\ProcessSgn{/}}}}1
    {=}{{{\ProcessSgn{=}}}}1
    {>}{{{\ProcessSgn{>}}}}1
    {<}{{{\ProcessSgn{<}}}}1
    {mean}{{{\ProcessFilter{mean}}}}1
    {std}{{{\ProcessFilter{std}}}}1
    {delay}{{{\ProcessFilter{delay}}}}1
    {shift}{{{\ProcessFilter{shift}}}}1
    {original}{{{\ProcessFilter{original}}}}1
    {norm}{{{\ProcessFilter{norm}}}}1
    {dtr}{{{\ProcessFilter{dtr}}}}1
    {diff}{{{\ProcessFilter{diff}}}}1
    {modulus}{{{\ProcessFilter{modulus}}}}1
    {|}{{{\ProcessOperator{|}}}}1
    {<=}{{\(\leq\)}}1,
    morestring=[b]",
    morestring=[b]',
    morecomment=[l]//,
}


